<div class="cart-content">
  <ng-container *ngIf="cartMovies.length == 0">
    <div class="cart-empty">
      <h1 class="cart-empty-text">Su carrito de compras está vacío.</h1>
      <i class="bi bi-cart-x"></i>
      <p class="cart-empty-go-movies">
            Vuelva a 
          <a class="link-to-movies" [routerLink]="['/movies']">
            Movies</a>&nbsp;
            para comprar o alquilar una película de nuestro catálogo.
      </p>
    </div>    
  </ng-container>

  <ng-container *ngIf="cartMovies.length > 0">
    <div class="cart-text-container">
      <h3 class="cart-text">
        <i class="bi bi-cart4"> Carrito de compras ({{cartMovies.length}} película{{cartMovies.length > 1? 's' : null}})
        </i>
      </h3>      
    </div>
    <div class="cart-table">
      <div class="cart-list">
        <div class="table-container">
          <table class="table table-hover">
            <thead>
              <tr>
                <th class="text-center" scope="col">#</th>
                <th class="text-center" scope="col">Descripción</th>
                <th class="text-center" scope="col">Acción</th>
                <th class="text-center" scope="col">Tipo</th>
                <th class="text-center" scope="col">Precio</th>
              </tr>
            </thead>
            <tbody class="t-body">
              <tr *ngFor="let product of cartMovies; let i = index">
                <th class="text-center" scope="row">{{i+1}}</th>
                <td>
                  <a class="col-item" [routerLink]="['/movie', product.id, product.Title]">
                    <img class="cartitem-image" src={{product.Image}} alt="">
                    <div class="cartitem-details">
                      <strong>{{product.Title}}</strong>
                      <span class="text-detail">Año: {{product.Year}}</span>
                      <span class="text-detail">Duración: {{product.Runtime}}</span>
                    </div>
                  </a>
                </td>
                <td class="text-center">
                  <button class="btn-cartitem-delete" (click)="deleteCartItem(product)">
                    <i class="bi bi-trash"></i> <span>Eliminar</span> 
                  </button>
                </td>
                <td class="text-center">{{product.Tipo}}</td>
                <td class="text-center">$ {{product.Price.toFixed(2)}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <button class="btn btn-danger btn-empty" (click)="removeAllCart()">Vaciar Carrito</button>
      </div>
    
      <div class="cartsummary">
        <h3 class="cartsummary-title">Resumen</h3>
        <table class="cartsummary-table table">
            <tbody>
                <tr>
                    <th>
                        <h4 class="cartsummary-subtotal-text">SubTotal:</h4>
                    </th>
                    <td>
                        <h4 class="cartsummary-subtotal-price">$ {{totalPrice.toFixed(2)}}</h4>
                    </td>
                </tr>
                <tr>
                    <th>
                        <h4 class="cartsummary-total-text">Total:</h4>
                    </th>
                    <td>
                        <h4 class="cartsummary-total-price">$ {{totalPrice.toFixed(2)}}</h4>
                    </td>
                </tr>
            </tbody>
        </table>
        <button class="btn-Pay btn btn-success" routerLink="/signin">
            <i class="bi bi-credit-card"></i>&nbsp;&nbsp; Ir a Pagar
        </button>
        <button class="btn-movies btn btn-outline-primary" routerLink="/movies">
            <i class="bi bi-list-check"></i>&nbsp;&nbsp; Seguir Comprando
        </button>
      </div>
    </div>
  </ng-container>
</div>